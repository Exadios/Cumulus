===============================================================================
Building and installing Cumulus under X11 and Qt4.x for Linux/Unix

Last update: 2008-02-14 by Axel Pauli

SVN info: $Id$
===============================================================================

These are the instructions to build and install Cumulus from source under Linux.

Step 1)

You will need to set up a building-environment for Qt4.x under X11 with Qt3
support if it is not already available. Download a X11/Qt release from
ftp.trolltech.com/qt/source. I recommend at the moment the release:

ftp://ftp.trolltech.com/qt/source/qt-x11-opensource-src-4.3.3.tar.gz

I did the portage with this release. To install it follow the instructions of Trolltech.
For cumulus you need the Qt3 support. Do not forget to activate it
during run of configure script. If you want to debug cumulus together with Qt it is
recommend to activate the debug option during run of the configure script.

If you want to use your own built Qt version, you should add the
<QT_INSTALLDIR>/bin component at the first position of your PATH variable.

e.g. BASH example

	export $PATH=<QT_INSTALLDIR>/bin:$PATH

Step 3)

Checkout a cumulus snapshot file tree in a local directory of your Linux desktop with:

	a) svn co https://svn.heiner-lamprecht.de/svn/repos/cumulus/qt4/trunk
	b) svn export https://svn.heiner-lamprecht.de/svn/repos/cumulus/qt4/trunk

Variant b) is free from any svn overhead like .svn directories.

Step 4)

Go into the trunk directory of your checkout copy. To build the cumulus application issue the following command:

	make -f Makefile.x11

Step 5)

To install cumulus issue the following command:

	make -f Makefile.x11 install

The installation structure of Cumulus is oriented on the Filesystem Hierarchy Standard of Unix (www.pathname.com/fhs). The default installation directory of the Cumulus application is therefore /opt/cumulus. Normally you need root access to do the installation there. If you would prefer another installation place, you can change the installation directory during call of make install in the following way:

	make -f Makefile.x11 INSTALL_ROOT=<my-install-path> install

Step 6)

The needed map data (airfields, airspaces and landscape) have to be installed under:

$HOME/maps or $INSTALL_ROOT/maps

That are the places, where Cumulus will seek for.

The old structure has been modified a little bit and look like

        +-airfields (Welt 2000 data file is recommend to use)
.../maps+-airspaces (Only open air file format is supported)
        +-landscape (Use map data from KFLog map room)

Note, that cumulus does up to now only support airspace files in open air format. The former support of KFLog airspace files has been removed.

For airfields the welt 2000 data base should be used. The KFLog files are out of date. See cumulus help for more information how to get it.

The landscape files can be downloaded from the KFLog Map room. Follow the link below to get them.

http://www.kflog.org/maproom/ground-and-terrain-data

Step 7)

To start cumulus issue the command:

	$INSTALL_PATH/bin/cumulus


Personal stuff is stored under $HOME/cumulus. There you can find the task file 'tasks.tsk' and the waypoint file 'cumulus.kwp'

The cumulus configuration file is stored under $HOME/.config/Cumulus.conf.

Step 8)

Usage of NMEA Simulator

Under $INSTALL_ROOT/bin you can find a NMEA simulator with name 'nmeaSimu'. You can use it for generation of NMEA data. Call it without any arguments and you will get a help usage displayed. The output of the simulator is written in a named pipe. Select in Cumulus as GPS device /tmp/nmeasim and cumulus will read the data from the simulator.

Hints, improvements or help are always welcome. Please contact the maintainer of Cumulus, Axel Pauli, via email axel@kflog.org or use the mailing lists of KFLog to find under www.kflog.org/mailman/listinfo.

Have fun with cumulus ...

===============================================================================
Licence of Cumulus
===============================================================================

This program is free software: you can redistribute it and/or modify it under the terms of the GNU General Public License as published by the Free Software Foundation, either version 3 of the License, or (at your option) any later version.

This program is distributed in the hope that it will be useful, but WITHOUT ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU General Public License (www.gnu.org/copyleft/gpl.html) for more details.
